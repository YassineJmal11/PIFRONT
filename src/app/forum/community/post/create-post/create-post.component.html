<form [formGroup]="postForm" (ngSubmit)="onSubmit()">
  <div class="form-group">
      <label for="textContent">Community Name</label>
      <textarea type="text" class="form-control" formControlName="textContent" id="textContent" placeholder="Enter textContent"></textarea>
      <div class="alert alert-danger" *ngIf="postForm.controls['textContent'].invalid && postForm.controls['textContent'].touched">
          <p *ngIf="postForm.controls['textContent'].hasError('required')">textContent is required</p>
          <p *ngIf="postForm.controls['textContent'].hasError('minlength')">textContent must be at least 5 characters long</p>
      </div>
  </div>

  <div class="form-group">
      <label for="community">Community</label>
      <select class="form-control" id="community" formControlName="community">
  <option *ngFor="let community of joinedCommunities" [ngValue]="community" [selected]="isSelected(community)">
    {{ community.communityName }}
  </option>    </select>
      <div class="alert alert-danger" *ngIf="postForm.controls['community'].invalid && postForm.controls['community'].touched">
          <p *ngIf="postForm.controls['community'].hasError('required')">Community is required</p>
      </div>
  </div>

  <div class="form-group">
      <label for="postType">Post Type</label>
      <select class="form-control" id="postType" formControlName="postType">
          <option *ngFor="let type of postTypes" [ngValue]="type">{{ type }}</option>
      </select>
      <div class="alert alert-danger" *ngIf="postForm.controls['postType'].invalid && postForm.controls['postType'].touched">
          <p *ngIf="postForm.controls['postType'].hasError('required')">Post Type is required</p>
      </div>
  </div>

  <div class="form-group">
      <label for="attachments">Attachment</label>
      <input type="file" class="form-control-file" id="attachments" (change)="onFileChange($event)">
  </div>
  <button type="submit" class="btn btn-primary">Submit</button>
</form>
