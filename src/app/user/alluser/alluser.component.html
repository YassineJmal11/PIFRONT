<section id="content">
  <!-- SIDEBAR -->
  <section id="sidebar" [ngClass]="status ? 'hide' : ''">
    <a href="#" class="brand">
      <i class='bx bxs-smile'></i>
      <span class="text">vita</span>
    </a>
  
    <ul class="side-menu top">
      <li class="active">
        <a [routerLink]="['/homeadmin']">
          <i class='bx bxs-dashboard' ></i>
          <span class="text">Dashboard</span>
        </a>
      </li>
      <li>
        <a [routerLink]="['/alluser']"> 
          <i class='bx bxs-doughnut-chart' ></i>
          <span class="text">All Users</span>
        </a>
      </li>
      <li>
        <a href="#">
          <i class='bx bxs-message-dots' ></i>
          <span class="text">Message</span>
        </a>
      </li>
      <li>
        <a href="#">
          <i class='bx bxs-group' ></i>
          <span class="text">Team</span>
        </a>
      </li>
    </ul>
    <ul class="side-menu">
      <li>
        <a href="#">
          <i class='bx bxs-cog' ></i>
          <span class="text">Settings</span>
        </a>
      </li>
      <li>
        <a href="#" class="logout" (click)="logout()"> <!-- Appel de la fonction logout() au clic sur le lien -->
          <i class='bx bxs-log-out-circle' ></i>
          <span class="text">Logout</span>
        </a>
      </li>
    </ul>
  </section>
  <li>
    <a [routerLink]="['/alluser']"> 
      <i class='bx bxs-doughnut-chart' ></i>
      <span class="text">All Users</span>
    </a>
  </li>
  <div class="container">
    <div class="border">
      <a [routerLink]="['/add']">
      <button class="btn btn-md btn-outline-primary">
        <i class="fa fa-user"></i>New user</button>
      </a>
    </div>
    <table class="table table-bordered table-striped">
      <thead>
        <tr>
          <th>User ID</th>
          <th>Username</th>
          <th>First Name</th>
          <th>Last Name</th>
          <th>Account Status</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let user of users">
          <td>{{ user.userId }}</td>
          <td>{{ user.username }}</td>
          <td>{{ user.firstName }}</td>
          <td>{{ user.lastName }}</td>
          <td>{{ user.accountStatus }}</td>
          <td>
            <select [(ngModel)]="user.accountStatus">
              <option value="ACTIVE">ACTIVE</option>
              <option value="INACTIVE">Inactive</option>
              <option value="VERIFIED">Verified</option>
              <option value="UNVERIFIED">Unverified</option>
            </select>
            <button class="btn btn-sm btn-info" (click)="updateUserAccountStatus(user.userId, selectedStatus)">Update Status</button>
            <button class="fa fa-remove delete-btn" (click)="deleteUser(user.userId)">Delete User</button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</section>
